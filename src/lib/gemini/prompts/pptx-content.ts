import type { GeneratedLesson } from '@/types/lesson';

export const generatePPTXContentPrompt = (lesson: GeneratedLesson, grade: number): string => {
  // ë‹¨ì› ì „ì²´ ì •ë³´ ì¶”ì¶œ
  const totalPeriods = lesson.unitOverview?.totalPeriods || 10;
  const unitTitle = lesson.unitOverview?.unitName || lesson.lessonOverview.title;
  const conceptLens = lesson.unitOverview?.conceptLens || lesson.lessonOverview.coreConcepts?.[0] || 'í•µì‹¬ ê°œë…';

  return `ë‹¨ì› ì „ì²´(${totalPeriods}ì°¨ì‹œ)ì— ëŒ€í•œ PPT ìŠ¬ë¼ì´ë“œ ë‚´ìš©ì„ ìƒì„±í•©ë‹ˆë‹¤.
ê° 7ë‹¨ê³„ë³„ë¡œ í•´ë‹¹ ì°¨ì‹œì— ë§ëŠ” ìŠ¬ë¼ì´ë“œë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

## ë‹¨ì› ì •ë³´

**ë‹¨ì›ëª…**: ${unitTitle}
**ì´ ì°¨ì‹œ**: ${totalPeriods}ì°¨ì‹œ
**í•™ë…„**: ${grade}í•™ë…„
**ê°œë… ë Œì¦ˆ**: ${conceptLens}

### ë‹¨ì› ê°œìš”
${JSON.stringify(lesson.unitOverview || lesson.lessonOverview, null, 2)}

### 7ë‹¨ê³„ ì„¤ê³„
${JSON.stringify(lesson.stages, null, 2)}

### ë‹¨ì› í‰ê°€
${JSON.stringify(lesson.unitAssessment || {}, null, 2)}

## PPT ìƒì„± ìš”ì²­

ë‹¤ìŒ JSON í˜•ì‹ìœ¼ë¡œ **ë‹¨ì› ì „ì²´**ì˜ ìˆ˜ì—…ìš© PPT ìŠ¬ë¼ì´ë“œ ë‚´ìš©ì„ ìƒì„±í•˜ì„¸ìš”.
ê° ë‹¨ê³„ë³„ë¡œ í•´ë‹¹ ì°¨ì‹œì— ë§ëŠ” ìŠ¬ë¼ì´ë“œë¥¼ í¬í•¨í•©ë‹ˆë‹¤.
JSON ì™¸ì˜ ë‹¤ë¥¸ í…ìŠ¤íŠ¸ëŠ” í¬í•¨í•˜ì§€ ë§ˆì„¸ìš”.

### ì¤‘ìš”í•œ ìŠ¬ë¼ì´ë“œ êµ¬ì„± ì§€ì¹¨:
1. **ì´ 25~35ê°œì˜ ìŠ¬ë¼ì´ë“œ**ë¥¼ ìƒì„±í•˜ì„¸ìš” (${totalPeriods}ì°¨ì‹œ ë‹¨ì› ì „ì²´ ì»¤ë²„)
2. **ê° ë‹¨ê³„(engage, focus, investigate, organize, generalize, transfer, reflect)ë§ˆë‹¤ ìµœì†Œ 3ê°œì˜ ìŠ¬ë¼ì´ë“œ** í¬í•¨
3. **ì°¨ì‹œ ì •ë³´ë¥¼ ëª…í™•íˆ í‘œì‹œ**: ê° ìŠ¬ë¼ì´ë“œì— í•´ë‹¹ ì°¨ì‹œ í‘œì‹œ
4. **imageDescription** í•„ë“œë¥¼ ì ê·¹ í™œìš©í•˜ì—¬ ì‹œê° ìë£Œ ì„¤ëª… í¬í•¨
5. **layout ìœ í˜•**ì„ ë‹¤ì–‘í•˜ê²Œ ì‚¬ìš©: "title", "content", "two_column", "image_text"
6. **ë‹¨ê³„ë³„ ìƒ‰ìƒ** ì ìš©: ê° ë‹¨ê³„ì˜ ê³ ìœ  ìƒ‰ìƒ ì‚¬ìš©
7. í•™ìƒë“¤ì˜ í¥ë¯¸ë¥¼ ë„ëŠ” ì‹œê°ì  ìš”ì†Œ ì„¤ëª…ì„ í¬í•¨

### ë‹¨ê³„ë³„ ìƒ‰ìƒ ê°€ì´ë“œ:
- ê´€ê³„ë§ºê¸°(engage): #F59E0B (ì£¼í™©)
- ì§‘ì¤‘í•˜ê¸°(focus): #3B82F6 (íŒŒë‘)
- ì¡°ì‚¬í•˜ê¸°(investigate): #10B981 (ì´ˆë¡)
- ì¡°ì§í•˜ê¸°(organize): #8B5CF6 (ë³´ë¼)
- ì¼ë°˜í™”í•˜ê¸°(generalize): #EC4899 (ë¶„í™)
- ì „ì´í•˜ê¸°(transfer): #06B6D4 (ì²­ë¡)
- ì„±ì°°í•˜ê¸°(reflect): #6366F1 (ì¸ë””ê³ )

{
  "slides": [
    {
      "id": "slide-1",
      "order": 1,
      "type": "title",
      "layout": "title",
      "title": "${unitTitle}",
      "subtitle": "${grade}í•™ë…„ | ${totalPeriods}ì°¨ì‹œ",
      "footer": "ì „ë¶í˜• ê°œë…ê¸°ë°˜íƒêµ¬(CBI) ë‹¨ì›",
      "stageColor": "#4F46E5",
      "imageDescription": "ë‹¨ì› ì£¼ì œì™€ ê´€ë ¨ëœ ë§¤ë ¥ì ì¸ ë©”ì¸ ì´ë¯¸ì§€ (í•™ìƒë“¤ì˜ í˜¸ê¸°ì‹¬ì„ ìê·¹í•˜ëŠ” ì‚¬ì§„ ë˜ëŠ” ì¼ëŸ¬ìŠ¤íŠ¸)"
    },
    {
      "id": "slide-2",
      "order": 2,
      "type": "overview",
      "layout": "content",
      "title": "ğŸ“š ë‹¨ì› ê°œìš”",
      "content": [
        "ê°œë… ë Œì¦ˆ: ${conceptLens}",
        "í•µì‹¬ ì•„ì´ë””ì–´(ë¹… ì•„ì´ë””ì–´): ...",
        "ì´ ${totalPeriods}ì°¨ì‹œë¡œ êµ¬ì„±",
        "7ë‹¨ê³„ íƒêµ¬ ì—¬ì •"
      ],
      "notes": "ë‹¨ì› ì²« ì‹œê°„ì— ì „ì²´ í•™ìŠµ ì—¬ì •ì„ ì•ˆë‚´í•©ë‹ˆë‹¤.",
      "imageDescription": "7ë‹¨ê³„ íƒêµ¬ ê³¼ì •ì„ ë³´ì—¬ì£¼ëŠ” ë¡œë“œë§µ ë˜ëŠ” ì—¬ì • ë‹¤ì´ì–´ê·¸ë¨"
    },
    {
      "id": "slide-3",
      "order": 3,
      "type": "roadmap",
      "layout": "content",
      "title": "ğŸ—ºï¸ ìš°ë¦¬ì˜ íƒêµ¬ ì—¬ì •",
      "content": [
        "1ï¸âƒ£ ê°œë…ì¸ì‹: ê´€ê³„ë§ºê¸° â†’ ì§‘ì¤‘í•˜ê¸°",
        "2ï¸âƒ£ ê°œë…ì—°ê²°: ì¡°ì‚¬í•˜ê¸° â†’ ì¡°ì§í•˜ê¸°",
        "3ï¸âƒ£ ê°œë…ì „ì´: ì¼ë°˜í™”í•˜ê¸° â†’ ì „ì´í•˜ê¸°",
        "4ï¸âƒ£ ê°œë…ì„±ì°°: ì„±ì°°í•˜ê¸°"
      ],
      "notes": "7ë‹¨ê³„ê°€ 4ê°œì˜ ëŒ€ë‹¨ê³„(ê°œë…ì¸ì‹, ê°œë…ì—°ê²°, ê°œë…ì „ì´, ê°œë…ì„±ì°°)ë¡œ êµ¬ì„±ë¨ì„ ì•ˆë‚´í•©ë‹ˆë‹¤.",
      "imageDescription": "7ë‹¨ê³„ë¥¼ ì‹œê°ì ìœ¼ë¡œ ë³´ì—¬ì£¼ëŠ” ìˆœí™˜ ë˜ëŠ” ë‹¨ê³„ ë‹¤ì´ì–´ê·¸ë¨ (ê° ë‹¨ê³„ë³„ ìƒ‰ìƒ ì ìš©)"
    },
    {
      "id": "slide-4",
      "order": 4,
      "type": "questions",
      "layout": "content",
      "title": "â“ ë‹¨ì› íƒêµ¬ ì§ˆë¬¸",
      "content": [
        "(ì‚¬) ì‚¬ì‹¤ì  ì§ˆë¬¸: ~ì€/ëŠ” ë¬´ì—‡ì¸ê°€ìš”?",
        "(ê°œ) ê°œë…ì  ì§ˆë¬¸: ì™œ ~í• ê¹Œìš”?",
        "(ë…¼) ë…¼ìŸì  ì§ˆë¬¸: ~í•´ì•¼ í• ê¹Œìš”?"
      ],
      "notes": "ë‹¨ì› ì „ì²´ë¥¼ ê´€í†µí•˜ëŠ” í•µì‹¬ íƒêµ¬ ì§ˆë¬¸ì„ ì†Œê°œí•©ë‹ˆë‹¤.",
      "imageDescription": "ì„¸ ê°€ì§€ ìœ í˜•ì˜ ì§ˆë¬¸ì„ êµ¬ë¶„í•˜ëŠ” ì•„ì´ì½˜ ë˜ëŠ” ìƒ‰ìƒ ì½”ë“œ ë‹¤ì´ì–´ê·¸ë¨"
    },
    {
      "id": "slide-5",
      "order": 5,
      "type": "stage_intro",
      "stage": "engage",
      "layout": "title",
      "title": "ğŸ”— 1ë‹¨ê³„: ê´€ê³„ë§ºê¸° (Engage)",
      "subtitle": "${lesson.stages?.engage?.periods || '1ì°¨ì‹œ'} | ê°œë…ì¸ì‹",
      "stageColor": "#F59E0B",
      "notes": "ì²« ë²ˆì§¸ ë‹¨ê³„ ì‹œì‘ì„ ì•ˆë‚´í•©ë‹ˆë‹¤.",
      "imageDescription": "ì—°ê²°, ê´€ê³„ë¥¼ ìƒì§•í•˜ëŠ” ì´ë¯¸ì§€ (ì†ì„ ì¡ëŠ” ëª¨ìŠµ, ì—°ê²°ëœ ê³ ë¦¬ ë“±)"
    },
    {
      "id": "slide-6",
      "order": 6,
      "type": "activity",
      "stage": "engage",
      "layout": "image_text",
      "title": "ğŸ”— ê´€ê³„ë§ºê¸°: ë¬´ì—‡ì´ ë³´ì´ë‚˜ìš”?",
      "content": ["ìë£Œë¥¼ ê´€ì°°í•´ ë´…ì‹œë‹¤", "ë¬´ì—‡ì´ ë³´ì´ë‚˜ìš”?", "ì–´ë–¤ ìƒê°ì´ ë“œë‚˜ìš”?", "ë¬´ì—‡ì´ ê¶ê¸ˆí•œê°€ìš”?"],
      "stageColor": "#F59E0B",
      "notes": "See-Think-Wonder ì‚¬ê³ ë£¨í‹´ì„ ì ìš©í•©ë‹ˆë‹¤. í•™ìƒë“¤ì˜ ì‚¬ì „ ì§€ì‹ê³¼ ê²½í—˜ì„ ì´ëŒì–´ëƒ…ë‹ˆë‹¤.",
      "imageDescription": "ë‹¨ì› ì£¼ì œì™€ ê´€ë ¨ëœ í˜¸ê¸°ì‹¬ì„ ìê·¹í•˜ëŠ” ì‹¤ì œ ì‚¬ì§„ ë˜ëŠ” ìƒí™© ì´ë¯¸ì§€"
    },
    {
      "id": "slide-7",
      "order": 7,
      "type": "thinking_routine",
      "stage": "engage",
      "layout": "two_column",
      "title": "ğŸ’­ ë³´ê³ -ìƒê°í•˜ê³ -ê¶ê¸ˆí•´í•˜ê¸°",
      "leftContent": ["ğŸ‘€ ë¬´ì—‡ì´ ë³´ì´ë‚˜ìš”?", "ğŸ¤” ë¬´ì—‡ì´ ìƒê°ë‚˜ë‚˜ìš”?"],
      "rightContent": ["â“ ë¬´ì—‡ì´ ê¶ê¸ˆí•œê°€ìš”?", "ğŸ’¡ ì–´ë–¤ ê²½í—˜ì´ ë– ì˜¤ë¥´ë‚˜ìš”?"],
      "stageColor": "#F59E0B",
      "notes": "í•™ìƒë“¤ì˜ ë‹¤ì–‘í•œ ë°˜ì‘ì„ ìˆ˜ìš©ì ìœ¼ë¡œ ë°›ì•„ë“¤ì…ë‹ˆë‹¤.",
      "imageDescription": "ìƒê°í•˜ëŠ” í•™ìƒë“¤ ë˜ëŠ” See-Think-Wonder ë£¨í‹´ ë‹¤ì´ì–´ê·¸ë¨"
    },
    {
      "id": "slide-8",
      "order": 8,
      "type": "stage_intro",
      "stage": "focus",
      "layout": "title",
      "title": "ğŸ¯ 2ë‹¨ê³„: ì§‘ì¤‘í•˜ê¸° (Focus)",
      "subtitle": "${lesson.stages?.focus?.periods || '2ì°¨ì‹œ'} | ê°œë…ì¸ì‹",
      "stageColor": "#3B82F6",
      "notes": "í•µì‹¬ ê°œë…ì„ ì†Œê°œí•˜ëŠ” ë‹¨ê³„ì…ë‹ˆë‹¤.",
      "imageDescription": "ì§‘ì¤‘, ì´ˆì ì„ ìƒì§•í•˜ëŠ” ì´ë¯¸ì§€ (ë‹ë³´ê¸°, íƒ€ê²Ÿ ë“±)"
    },
    {
      "id": "slide-9",
      "order": 9,
      "type": "concept",
      "stage": "focus",
      "layout": "content",
      "title": "ğŸ¯ í•µì‹¬ ê°œë…: ${conceptLens}",
      "content": ["${conceptLens}ì´ë€?", "ì •ì˜:", "íŠ¹ì§•:", "ì˜ˆì‹œ:"],
      "stageColor": "#3B82F6",
      "notes": "í•µì‹¬ ê°œë…ì„ ëª…ì‹œì ìœ¼ë¡œ ì†Œê°œí•˜ê³  íƒêµ¬ ë°©í–¥ì„ ì•ˆë‚´í•©ë‹ˆë‹¤.",
      "imageDescription": "í•µì‹¬ ê°œë…ì„ ì‹œê°ì ìœ¼ë¡œ í‘œí˜„í•˜ëŠ” ë‹¤ì´ì–´ê·¸ë¨ ë˜ëŠ” ê°œë… ì´ë¯¸ì§€"
    },
    {
      "id": "slide-10",
      "order": 10,
      "type": "thinking_routine",
      "stage": "focus",
      "layout": "two_column",
      "title": "ğŸ“ í”„ë ˆì´ì–´ ëª¨ë¸",
      "leftContent": ["ì •ì˜:", "íŠ¹ì§•:"],
      "rightContent": ["ì˜ˆì‹œ:", "ë¹„ì˜ˆì‹œ:"],
      "stageColor": "#3B82F6",
      "notes": "í”„ë ˆì´ì–´ ëª¨ë¸ì„ í™œìš©í•˜ì—¬ ê°œë… ì •ì˜ë¥¼ í˜•ì„±í•©ë‹ˆë‹¤.",
      "imageDescription": "í”„ë ˆì´ì–´ ëª¨ë¸ 4ë¶„í•  ë‹¤ì´ì–´ê·¸ë¨"
    },
    {
      "id": "slide-11",
      "order": 11,
      "type": "question",
      "stage": "focus",
      "layout": "content",
      "title": "â“ ì˜¤ëŠ˜ì˜ íƒêµ¬ ì§ˆë¬¸",
      "content": ["ì´ë²ˆ ë‹¨ì›ì˜ í•µì‹¬ íƒêµ¬ ì§ˆë¬¸ì…ë‹ˆë‹¤", "(ê°œ) ì™œ ~í• ê¹Œìš”?"],
      "stageColor": "#3B82F6",
      "notes": "í•™ìƒë“¤ì´ íƒêµ¬í•  í•µì‹¬ ì§ˆë¬¸ì„ ì œì‹œí•©ë‹ˆë‹¤.",
      "imageDescription": "í° ë¬¼ìŒí‘œ ë˜ëŠ” íƒì •/ë‹ë³´ê¸° ì´ë¯¸ì§€"
    },
    {
      "id": "slide-12",
      "order": 12,
      "type": "stage_intro",
      "stage": "investigate",
      "layout": "title",
      "title": "ğŸ”¬ 3ë‹¨ê³„: ì¡°ì‚¬í•˜ê¸° (Investigate)",
      "subtitle": "${lesson.stages?.investigate?.periods || '3-4ì°¨ì‹œ'} | ê°œë…ì—°ê²°",
      "stageColor": "#10B981",
      "notes": "íƒêµ¬ í™œë™ì„ ì‹œì‘í•˜ëŠ” ë‹¨ê³„ì…ë‹ˆë‹¤.",
      "imageDescription": "ì¡°ì‚¬, íƒêµ¬ë¥¼ ìƒì§•í•˜ëŠ” ì´ë¯¸ì§€ (ë‹ë³´ê¸°, ì‹¤í—˜ ë„êµ¬, ì±… ë“±)"
    },
    {
      "id": "slide-13",
      "order": 13,
      "type": "activity",
      "stage": "investigate",
      "layout": "content",
      "title": "ğŸ”¬ íƒêµ¬ í™œë™ ì•ˆë‚´",
      "content": [
        "1. ìë£Œë¥¼ ì½ê³  ì¤‘ìš”í•œ ë‚´ìš©ì„ ì°¾ì•„ìš”",
        "2. ëª¨ë‘ ì›ê³¼ ë°œê²¬í•œ ê²ƒì„ í† ì˜í•´ìš”",
        "3. ë°œê²¬í•œ ê²ƒì„ í™œë™ì§€ì— ê¸°ë¡í•´ìš”",
        "4. íŒ¨í„´ê³¼ ê³µí†µì ì„ ì°¾ì•„ë´ìš”"
      ],
      "stageColor": "#10B981",
      "notes": "íƒêµ¬ í™œë™ ìˆœì„œë¥¼ ëª…í™•íˆ ì•ˆë‚´í•©ë‹ˆë‹¤.",
      "imageDescription": "ë‹¨ê³„ë³„ ê³¼ì •ì„ ë³´ì—¬ì£¼ëŠ” ìˆœì„œë„ ë˜ëŠ” ì²´í¬ë¦¬ìŠ¤íŠ¸"
    },
    {
      "id": "slide-14",
      "order": 14,
      "type": "materials",
      "stage": "investigate",
      "layout": "two_column",
      "title": "ğŸ“‹ ëª¨ë‘ ë³„ íƒêµ¬ ìë£Œ",
      "leftContent": ["1ëª¨ë‘ : ì‚¬ë¡€ A", "2ëª¨ë‘ : ì‚¬ë¡€ B"],
      "rightContent": ["3ëª¨ë‘ : ì‚¬ë¡€ C", "4ëª¨ë‘ : ì‚¬ë¡€ D"],
      "stageColor": "#10B981",
      "notes": "ê° ëª¨ë‘ ì— ë‹¤ë¥¸ ì‚¬ë¡€ë¥¼ ë°°ë¶„í•˜ì—¬ ì§ì†Œ í™œë™ì„ ì¤€ë¹„í•©ë‹ˆë‹¤.",
      "imageDescription": "ë‹¤ì–‘í•œ ì‚¬ë¡€ ìë£Œ ì´ë¯¸ì§€ ë˜ëŠ” ëª¨ë‘  í™œë™í•˜ëŠ” í•™ìƒë“¤"
    },
    {
      "id": "slide-15",
      "order": 15,
      "type": "scaffolding",
      "stage": "investigate",
      "layout": "content",
      "title": "ğŸ’¡ íƒêµ¬ ë„ì›€ ì§ˆë¬¸",
      "content": [
        "ì–´ë–¤ ê³µí†µì ì´ ë³´ì´ë‚˜ìš”?",
        "ì™œ ê·¸ëŸ° í˜„ìƒì´ ì¼ì–´ë‚¬ì„ê¹Œìš”?",
        "ë‹¤ë¥¸ ê²½ìš°ì—ë„ ì ìš©ë ê¹Œìš”?",
        "ì´ê²ƒì€ ìš°ë¦¬ê°€ ë°°ìš´ ê°œë…ê³¼ ì–´ë–»ê²Œ ì—°ê²°ë˜ë‚˜ìš”?"
      ],
      "stageColor": "#10B981",
      "notes": "ìŠ¤ìºí´ë”© ì§ˆë¬¸ìœ¼ë¡œ íƒêµ¬ë¥¼ ì´‰ì§„í•©ë‹ˆë‹¤.",
      "imageDescription": "ë¬¼ìŒí‘œì™€ ì „êµ¬ ì•„ì´ì½˜ì´ í•¨ê»˜ ìˆëŠ” ì´ë¯¸ì§€"
    },
    {
      "id": "slide-16",
      "order": 16,
      "type": "stage_intro",
      "stage": "organize",
      "layout": "title",
      "title": "ğŸ“Š 4ë‹¨ê³„: ì¡°ì§ ë° ì •ë¦¬í•˜ê¸° (Organize)",
      "subtitle": "${lesson.stages?.organize?.periods || '5-6ì°¨ì‹œ'} | ê°œë…ì—°ê²°",
      "stageColor": "#8B5CF6",
      "notes": "ë°œê²¬í•œ ë‚´ìš©ì„ ì •ë¦¬í•˜ëŠ” ë‹¨ê³„ì…ë‹ˆë‹¤.",
      "imageDescription": "ì •ë¦¬, ë¶„ë¥˜ë¥¼ ìƒì§•í•˜ëŠ” ì´ë¯¸ì§€ (í´ë”, ì°¨íŠ¸, ë§ˆì¸ë“œë§µ ë“±)"
    },
    {
      "id": "slide-17",
      "order": 17,
      "type": "activity",
      "stage": "organize",
      "layout": "content",
      "title": "ğŸ“Š ë°œê²¬í•œ ë‚´ìš© ì •ë¦¬í•˜ê¸°",
      "content": [
        "ê³µí†µì ì€ ë¬´ì—‡ì¸ê°€ìš”?",
        "ì°¨ì´ì ì€ ë¬´ì—‡ì¸ê°€ìš”?",
        "ì–´ë–¤ íŒ¨í„´ì´ ë³´ì´ë‚˜ìš”?",
        "ì™œ ê·¸ëŸ° íŒ¨í„´ì´ ë‚˜íƒ€ë‚¬ì„ê¹Œìš”?"
      ],
      "stageColor": "#8B5CF6",
      "notes": "ê·¸ë˜í”½ ì¡°ì§ìë¥¼ í™œìš©í•˜ì—¬ ì •ë³´ë¥¼ êµ¬ì¡°í™”í•©ë‹ˆë‹¤.",
      "imageDescription": "ë²¤ë‹¤ì´ì–´ê·¸ë¨, í‘œ, ë§ˆì¸ë“œë§µ ë“±ì˜ ê·¸ë˜í”½ ì¡°ì§ì ì˜ˆì‹œ"
    },
    {
      "id": "slide-18",
      "order": 18,
      "type": "thinking_routine",
      "stage": "organize",
      "layout": "two_column",
      "title": "âœï¸ êµì°¨ë¹„êµì°¨íŠ¸",
      "leftContent": ["í•­ëª©", "ê³µí†µì ", "ì°¨ì´ì "],
      "rightContent": ["íŒ¨í„´", "ì˜ë¯¸", "ì—°ê²°"],
      "stageColor": "#8B5CF6",
      "notes": "Compare and Contrast ë£¨í‹´ì„ ì ìš©í•©ë‹ˆë‹¤.",
      "imageDescription": "êµì°¨ë¹„êµì°¨íŠ¸ í…œí”Œë¦¿ ì´ë¯¸ì§€"
    },
    {
      "id": "slide-19",
      "order": 19,
      "type": "sharing",
      "stage": "organize",
      "layout": "content",
      "title": "ğŸ¨ ê°¤ëŸ¬ë¦¬ ì›Œí¬",
      "content": [
        "ëª¨ë‘ ë³„ë¡œ ì •ë¦¬í•œ ë‚´ìš©ì„ ì „ì‹œí•´ìš”",
        "ë‹¤ë¥¸ ëª¨ë‘ ì˜ ë‚´ìš©ì„ ì‚´í´ë´ìš”",
        "ì¢‹ì€ ì ì„ ë©”ëª¨í•´ìš”",
        "ê³µí†µì ì„ ì°¾ì•„ë´ìš”"
      ],
      "stageColor": "#8B5CF6",
      "notes": "ê°¤ëŸ¬ë¦¬ ì›Œí¬ë¥¼ í†µí•´ ëª¨ë‘  ê°„ ê²°ê³¼ë¥¼ ê³µìœ í•©ë‹ˆë‹¤.",
      "imageDescription": "ê°¤ëŸ¬ë¦¬ ì›Œí¬ í™œë™í•˜ëŠ” í•™ìƒë“¤ ë˜ëŠ” ì „ì‹œëœ í¬ìŠ¤í„°ë“¤"
    },
    {
      "id": "slide-20",
      "order": 20,
      "type": "stage_intro",
      "stage": "generalize",
      "layout": "title",
      "title": "ğŸ’¡ 5ë‹¨ê³„: ì¼ë°˜í™”í•˜ê¸° (Generalize)",
      "subtitle": "${lesson.stages?.generalize?.periods || '7ì°¨ì‹œ'} | ê°œë…ì „ì´",
      "stageColor": "#EC4899",
      "notes": "ë¹… ì•„ì´ë””ì–´ë¥¼ ë„ì¶œí•˜ëŠ” í•µì‹¬ ë‹¨ê³„ì…ë‹ˆë‹¤.",
      "imageDescription": "ì•„ì´ë””ì–´, ë°œê²¬ì„ ìƒì§•í•˜ëŠ” ì´ë¯¸ì§€ (ì „êµ¬, í¼ì¦ ì¡°ê°ì´ ë§ì¶°ì§€ëŠ” ëª¨ìŠµ)"
    },
    {
      "id": "slide-21",
      "order": 21,
      "type": "activity",
      "stage": "generalize",
      "layout": "content",
      "title": "ğŸ’¡ ìš°ë¦¬ê°€ ë°œê²¬í•œ ê²ƒ",
      "content": [
        "ì—¬ëŸ¬ ì‚¬ë¡€ì—ì„œ ê³µí†µìœ¼ë¡œ ë°œê²¬í•œ ê²ƒì€?",
        "ì´ê²ƒì´ ë‹¤ë¥¸ ìƒí™©ì—ì„œë„ ì ìš©ë ê¹Œìš”?",
        "í•œ ë¬¸ì¥ìœ¼ë¡œ ì •ë¦¬í•˜ë©´?",
        "ì´ê²ƒì´ ìš°ë¦¬ì˜ 'ë¹… ì•„ì´ë””ì–´'ì…ë‹ˆë‹¤!"
      ],
      "stageColor": "#EC4899",
      "notes": "ê·€ë‚©ì ìœ¼ë¡œ ì¼ë°˜í™”ë¥¼ ë„ì¶œí•˜ë„ë¡ ì•ˆë‚´í•©ë‹ˆë‹¤.",
      "imageDescription": "ì—¬ëŸ¬ ì¡°ê°ì´ í•˜ë‚˜ì˜ í° ê·¸ë¦¼ì„ ë§Œë“œëŠ” í¼ì¦ ì´ë¯¸ì§€"
    },
    {
      "id": "slide-22",
      "order": 22,
      "type": "big_idea",
      "stage": "generalize",
      "layout": "content",
      "title": "â­ ë¹… ì•„ì´ë””ì–´ (ì¼ë°˜í™”)",
      "content": ["ìš°ë¦¬ê°€ ë°œê²¬í•œ ë¹… ì•„ì´ë””ì–´:", "\"~ì€/ëŠ” ~í•˜ê¸° ë•Œë¬¸ì— ~í•˜ë‹¤\""],
      "stageColor": "#EC4899",
      "notes": "í•™ìƒë“¤ì´ ë„ì¶œí•œ ì¼ë°˜í™”ë¥¼ ê°•ì¡°í•˜ì—¬ ê¸°ë¡í•©ë‹ˆë‹¤.",
      "imageDescription": "ë³„ ë˜ëŠ” ë³´ì„ ì•„ì´ì½˜ê³¼ í•¨ê»˜ ê°•ì¡°ëœ í…ìŠ¤íŠ¸ ë°•ìŠ¤"
    },
    {
      "id": "slide-23",
      "order": 23,
      "type": "stage_intro",
      "stage": "transfer",
      "layout": "title",
      "title": "ğŸš€ 6ë‹¨ê³„: ì „ì´í•˜ê¸° (Transfer)",
      "subtitle": "${lesson.stages?.transfer?.periods || '8-9ì°¨ì‹œ'} | ê°œë…ì „ì´",
      "stageColor": "#06B6D4",
      "notes": "ë°°ìš´ ê°œë…ì„ ìƒˆë¡œìš´ ìƒí™©ì— ì ìš©í•˜ëŠ” ë‹¨ê³„ì…ë‹ˆë‹¤.",
      "imageDescription": "ì „ì´, ì ìš©ì„ ìƒì§•í•˜ëŠ” ì´ë¯¸ì§€ (í™”ì‚´í‘œ, ì—°ê²°, í™•ì¥)"
    },
    {
      "id": "slide-24",
      "order": 24,
      "type": "task",
      "stage": "transfer",
      "layout": "content",
      "title": "ğŸš€ ìˆ˜í–‰ê³¼ì œ ì•ˆë‚´",
      "content": [
        "ğŸ¯ ëª©í‘œ(G): ...",
        "ğŸ­ ì—­í• (R): ...",
        "ğŸ‘¥ ì²­ì¤‘(A): ...",
        "ğŸ“ ìƒí™©(S): ...",
        "ğŸ“¦ ì‚°ì¶œë¬¼(P): ...",
        "ğŸ“‹ ê¸°ì¤€(S): ..."
      ],
      "stageColor": "#06B6D4",
      "notes": "GRASPS ìˆ˜í–‰ê³¼ì œì˜ ê° ìš”ì†Œë¥¼ ëª…í™•íˆ ì•ˆë‚´í•©ë‹ˆë‹¤.",
      "imageDescription": "ë¯¸ì…˜ ë˜ëŠ” ê³¼ì œë¥¼ ìƒì§•í•˜ëŠ” ì´ë¯¸ì§€"
    },
    {
      "id": "slide-25",
      "order": 25,
      "type": "rubric",
      "stage": "transfer",
      "layout": "content",
      "title": "ğŸ“‹ í‰ê°€ ê¸°ì¤€ (ë£¨ë¸Œë¦­)",
      "content": [
        "ì§€ì‹Â·ì´í•´: ì˜í•¨ / ë³´í†µ / ë…¸ë ¥ìš”í•¨",
        "ê³¼ì •Â·ê¸°ëŠ¥: ì˜í•¨ / ë³´í†µ / ë…¸ë ¥ìš”í•¨",
        "ê°€ì¹˜Â·íƒœë„: ì˜í•¨ / ë³´í†µ / ë…¸ë ¥ìš”í•¨"
      ],
      "stageColor": "#06B6D4",
      "notes": "3ë‹¨ê³„ ë£¨ë¸Œë¦­ìœ¼ë¡œ í‰ê°€ ê¸°ì¤€ì„ ê³µìœ í•©ë‹ˆë‹¤.",
      "imageDescription": "ì²´í¬ë¦¬ìŠ¤íŠ¸ ë˜ëŠ” ë£¨ë¸Œë¦­ í‘œ ì´ë¯¸ì§€"
    },
    {
      "id": "slide-26",
      "order": 26,
      "type": "activity",
      "stage": "transfer",
      "layout": "content",
      "title": "âœ¨ ìˆ˜í–‰ê³¼ì œ ìˆ˜í–‰",
      "content": [
        "ìš°ë¦¬ì˜ ë¹… ì•„ì´ë””ì–´ë¥¼ ì ìš©í•´ìš”",
        "ì°½ì˜ì ìœ¼ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•´ìš”",
        "ì‚°ì¶œë¬¼ì„ ë§Œë“¤ì–´ìš”",
        "ë°œí‘œë¥¼ ì¤€ë¹„í•´ìš”"
      ],
      "stageColor": "#06B6D4",
      "notes": "ìˆ˜í–‰ê³¼ì œ ìˆ˜í–‰ ì‹œ ê°œë… ì ìš©ì„ ê°•ì¡°í•©ë‹ˆë‹¤.",
      "imageDescription": "í˜‘ë ¥í•˜ì—¬ í”„ë¡œì íŠ¸ë¥¼ ìˆ˜í–‰í•˜ëŠ” í•™ìƒë“¤"
    },
    {
      "id": "slide-27",
      "order": 27,
      "type": "stage_intro",
      "stage": "reflect",
      "layout": "title",
      "title": "ğŸª 7ë‹¨ê³„: ì„±ì°°í•˜ê¸° (Reflect)",
      "subtitle": "${lesson.stages?.reflect?.periods || '10ì°¨ì‹œ'} | ê°œë…ì„±ì°°",
      "stageColor": "#6366F1",
      "notes": "ë‹¨ì›ì„ ë§ˆë¬´ë¦¬í•˜ë©° í•™ìŠµì„ ì„±ì°°í•˜ëŠ” ë‹¨ê³„ì…ë‹ˆë‹¤.",
      "imageDescription": "ê±°ìš¸, ì„±ì°°ì„ ìƒì§•í•˜ëŠ” ì´ë¯¸ì§€"
    },
    {
      "id": "slide-28",
      "order": 28,
      "type": "thinking_routine",
      "stage": "reflect",
      "layout": "content",
      "title": "ğŸª ì˜ˆì „ì—ëŠ”-ì§€ê¸ˆì€",
      "content": [
        "ì˜ˆì „ì—ëŠ” ___ ë¼ê³  ìƒê°í–ˆì–´ìš”.",
        "ì§€ê¸ˆì€ ___ ë¼ê³  ìƒê°í•´ìš”.",
        "ë‚´ ìƒê°ì´ ë°”ë€ ì´ìœ ëŠ” ___"
      ],
      "stageColor": "#6366F1",
      "notes": "I Used to Think... Now I Think... ë£¨í‹´ì„ ì ìš©í•©ë‹ˆë‹¤.",
      "imageDescription": "before/after ë˜ëŠ” ë³€í™”ë¥¼ ë³´ì—¬ì£¼ëŠ” ì´ë¯¸ì§€"
    },
    {
      "id": "slide-29",
      "order": 29,
      "type": "reflection",
      "stage": "reflect",
      "layout": "two_column",
      "title": "ğŸ“ ë‚˜ì˜ ë°°ì›€ ì¼ì§€",
      "leftContent": ["ì˜¤ëŠ˜ ìƒˆë¡­ê²Œ ì•Œê²Œ ëœ ê²ƒ", "ê°€ì¥ ì¸ìƒ ê¹Šì—ˆë˜ ê²ƒ"],
      "rightContent": ["ë” ê¶ê¸ˆí•œ ê²ƒ", "ì‹¤ìƒí™œì—ì„œ í™œìš©í•  ì "],
      "stageColor": "#6366F1",
      "notes": "í•™ìƒ ê°œì¸ë³„ ì„±ì°° ì‹œê°„ì„ ì¤ë‹ˆë‹¤.",
      "imageDescription": "ì¼ê¸°ì¥/ë…¸íŠ¸ ì´ë¯¸ì§€ ë˜ëŠ” ì—°í•„ë¡œ ì“°ëŠ” ì†"
    },
    {
      "id": "slide-30",
      "order": 30,
      "type": "self_assessment",
      "stage": "reflect",
      "layout": "content",
      "title": "â­ ìê¸°í‰ê°€",
      "content": [
        "í•µì‹¬ ê°œë…ì„ ì´í•´í–ˆë‚˜ìš”? â­â­â­",
        "íƒêµ¬ í™œë™ì— ì ê·¹ ì°¸ì—¬í–ˆë‚˜ìš”? â­â­â­",
        "ë¹… ì•„ì´ë””ì–´ë¥¼ ë°œê²¬í–ˆë‚˜ìš”? â­â­â­",
        "ìƒˆë¡œìš´ ìƒí™©ì— ì ìš©í•  ìˆ˜ ìˆë‚˜ìš”? â­â­â­"
      ],
      "stageColor": "#6366F1",
      "notes": "ìê¸°í‰ê°€ ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.",
      "imageDescription": "ì²´í¬ë¦¬ìŠ¤íŠ¸ì™€ ë³„ ì•„ì´ì½˜"
    },
    {
      "id": "slide-31",
      "order": 31,
      "type": "summary",
      "layout": "content",
      "title": "ğŸ“Œ ë‹¨ì› ì •ë¦¬",
      "content": [
        "í•µì‹¬ ê°œë…: ${conceptLens}",
        "ë¹… ì•„ì´ë””ì–´(ì¼ë°˜í™”): ...",
        "íƒêµ¬ ì§ˆë¬¸ì— ëŒ€í•œ ìš°ë¦¬ì˜ ë‹µ: ...",
        "ë‹¤ìŒ ë‹¨ì› ì˜ˆê³ : ..."
      ],
      "stageColor": "#4F46E5",
      "imageDescription": "ì²´í¬ë§ˆí¬ê°€ ìˆëŠ” ìš”ì•½ ë°•ìŠ¤ ë˜ëŠ” í•µì‹¬ ë‚´ìš©ì„ ë‹´ì€ í¬ìŠ¤íŠ¸ì‡"
    },
    {
      "id": "slide-32",
      "order": 32,
      "type": "closing",
      "layout": "title",
      "title": "ì˜í–ˆì–´ìš”! ğŸ‘",
      "subtitle": "${totalPeriods}ì°¨ì‹œì˜ íƒêµ¬ ì—¬ì •ì„ ë§ˆì³¤ìŠµë‹ˆë‹¤!",
      "content": ["í›Œë¥­í•œ íƒêµ¬ìê°€ ë˜ì–´ ë¹… ì•„ì´ë””ì–´ë¥¼ ë°œê²¬í•œ ì—¬ëŸ¬ë¶„, ìˆ˜ê³ í–ˆì–´ìš”!"],
      "stageColor": "#4F46E5",
      "imageDescription": "ë°•ìˆ˜ì¹˜ëŠ” ì† ë˜ëŠ” ì¶•í•˜ ì´ë¯¸ì§€, ë°ê³  ê¸ì •ì ì¸ ë¶„ìœ„ê¸°"
    }
  ],
  "designTheme": {
    "primaryColor": "#4F46E5",
    "stageColors": {
      "engage": "#F59E0B",
      "focus": "#3B82F6",
      "investigate": "#10B981",
      "organize": "#8B5CF6",
      "generalize": "#EC4899",
      "transfer": "#06B6D4",
      "reflect": "#6366F1"
    },
    "fontFamily": "ë§‘ì€ ê³ ë”•",
    "titleSize": 44,
    "contentSize": 24
  }
}

## PPT ì„¤ê³„ ì›ì¹™

1. **ë‹¨ì› ì „ì²´ êµ¬ì„±**: ${totalPeriods}ì°¨ì‹œ ì „ì²´ë¥¼ ì»¤ë²„í•˜ëŠ” ìŠ¬ë¼ì´ë“œ êµ¬ì„±
2. **ì°¨ì‹œ ì •ë³´ í‘œì‹œ**: ê° ë‹¨ê³„ë³„ í•´ë‹¹ ì°¨ì‹œë¥¼ ëª…í™•íˆ í‘œì‹œ
3. **ë‹¨ê³„ë³„ ìƒ‰ìƒ**: 7ë‹¨ê³„ ê°ê°ì˜ ê³ ìœ  ìƒ‰ìƒì„ í™œìš©í•˜ì—¬ ì‹œê°ì  êµ¬ë¶„
4. **ì‹œê°ì  í’ë¶€í•¨**: ëª¨ë“  ìŠ¬ë¼ì´ë“œì— imageDescriptionì„ í¬í•¨í•˜ì—¬ ì‹œê° ìë£Œ ì œì•ˆ
5. **ë‹¨ê³„ë³„ êµ¬ë¶„**: ê° íƒêµ¬ ë‹¨ê³„ë¥¼ ì´ëª¨ì§€ì™€ í•¨ê»˜ ëª…í™•íˆ í‘œì‹œ (ğŸ”—ğŸ¯ğŸ”¬ğŸ“ŠğŸ’¡ğŸš€ğŸª)
6. **ë‹¤ì–‘í•œ ë ˆì´ì•„ì›ƒ**: title, content, two_column, image_text ë ˆì´ì•„ì›ƒì„ ê³¨ê³ ë£¨ ì‚¬ìš©
7. **${grade}í•™ë…„ ìˆ˜ì¤€**: ì ì ˆí•œ ì–´íœ˜ì™€ ê¸€ì í¬ê¸° ì‚¬ìš©, ì¹œê·¼í•œ í†¤
8. **ì‚¬ê³ ë£¨í‹´ í¬í•¨**: ê° ë‹¨ê³„ì— ë§ëŠ” ì‚¬ê³ ë£¨í‹´ ìŠ¬ë¼ì´ë“œ í¬í•¨
9. **ìƒí˜¸ì‘ìš© ìœ ë„**: ì§ˆë¬¸, í™œë™ ì•ˆë‚´ ìŠ¬ë¼ì´ë“œ í¬í•¨
10. **ë…¸íŠ¸ í™œìš©**: êµì‚¬ìš© ë°œí‘œì ë…¸íŠ¸ ìƒì„¸ ì‘ì„±

### imageDescription ì‘ì„± ê°€ì´ë“œ:
- ìˆ˜ì—… ì£¼ì œì— ë§ëŠ” êµ¬ì²´ì ì¸ ì´ë¯¸ì§€ ì„¤ëª…
- í•™ìƒë“¤ì˜ í¥ë¯¸ë¥¼ ëŒ ìˆ˜ ìˆëŠ” ì‹œê° ìë£Œ
- ê°œë… ì´í•´ë¥¼ ë•ëŠ” ë‹¤ì´ì–´ê·¸ë¨, ì°¨íŠ¸, ì‹¤ì‚¬ ì´ë¯¸ì§€
- ì´ëª¨ì§€ë‚˜ ì•„ì´ì½˜ í™œìš© ì œì•ˆ í¬í•¨

ë°˜ë“œì‹œ ìœ íš¨í•œ JSON í˜•ì‹ìœ¼ë¡œë§Œ ì‘ë‹µí•˜ì„¸ìš”.`;
};
